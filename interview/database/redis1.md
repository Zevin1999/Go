1. Redis应用场景 🌟🌟
   1. redis实现分布式锁 （setnx和expire实现原子性） 
   2. redis做token缓存 
   3. redis做业务限频
2. redis有哪些数据结构?
   数据结构: 字符串String、字典Hash、列表List、集合Set、有序集合SortedSet。
3. 如何用redis实现微信步数排行榜功能？
   1. 排行榜要求: 1. 历史日期的排行榜是可以查看的 2. 点赞和用户头像
   2. 实现
      1. 使用Redis的ZSET数据结构存储排行榜 
         设置key时，基于微信号和日期，key就可以设计为：StepNumberRanking:zwwhnly:20200601 
         设置value时，将好友的昵称作为成员member，将好友的步数作为分值score
      2. 使用Redis的HASH数据结构存储点赞/头像等信息
         其中2key==1key+成员member，value分别存储好友头像、昵称、步数、点赞数 
      3. 获取微信步数排行榜时,先查询出微信步数排行榜中的昵称，也就是查询1key对应的值，根据获取到的昵称，查询好友步数信息，也就是查询2key的值
4. redis如何做高可用?
   1. redis做主从备份，主挂了切换备，改进的话可以利用哨兵（sentinel），业务连接哨兵，哨兵通过健康检查告诉客户端 redis 的链接地址。 
   2. 高级 redis cluster 集群, 有下面四种方式：
      1. twemproxy，大概概念是，它类似于一个代理方式，使用方法和普通redis无任何区别，设置好它下属的多个redis实例后，使用时在本需要连接redis的地方改为连接twemproxy，它会以一个代理的身份接收请求并使用一致性hash算法，将请求转接到具体redis，将结果再返回twemproxy。
         使用方式简便(相对redis只需修改连接端口)，对旧项目扩展的首选。 
         问题：twemproxy自身单端口实例的压力，使用一致性hash后，对redis节点数量改变时候的计算值的改变，数据无法自动移动到新的节点。 
      2. codis，目前用的最多的集群方案，基本和twemproxy一致的效果，但它支持在节点数量改变情况下，旧节点数据可恢复到新hash节点。 
      3. redis cluster3.0自带的集群，特点在于他的分布式算法不是一致性hash，而是hash槽的概念，以及自身支持节点设置从节点。具体看官方文档介绍。 
      4. 在业务代码层实现，起几个毫无关联的redis实例，在代码层，对key进行hash计算，然后去对应的redis实例操作数据。 
         这种方式对hash层代码要求比较高，考虑部分包括，节点失效后的替代算法方案，数据震荡后的自动脚本恢复，实例的监控，等等。
5. 使用redis做异步队列？
   一般使用list结构作为队列，rpush生产消息，lpop消费消息。当lpop没有消息的时候，要适当sleep一会再重试。 
   如果对方追问可不可以不用sleep呢？list还有个指令叫blpop，在没有消息的时候，它会阻塞住直到消息到来。 
   如果对方追问能不能生产一次消费多次呢？使用pub/sub主题订阅者模式，可以实现1:N的消息队列。 🌟
   如果对方追问pub/sub有什么缺点？在消费者下线的情况下，生产的消息会丢失，得使用专业的消息队列如rabbitmq等。🌟
6. redis的集群模式？
7. 分布式系统中，各节点时钟不一致导致部分redis节点的数据过期而导致数据不一致该怎么处理？